@page "/"
@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager Navigation

<PageTitle>Dobrodošli u Iznajmljivanje Automobila</PageTitle>

@code {
    private bool IsAuthenticated;

    // Provjera statusa prijave
    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        IsAuthenticated = authState?.User?.Identity?.IsAuthenticated ?? false;

        if (!IsAuthenticated)
        {
            // Preusmjeravanje samo ako korisnik nije prijavljen
            Navigation.NavigateTo("/login");
        }

        StateHasChanged(); // Osvježavanje UI-a nakon provjere statusa
    }
}

@if (IsAuthenticated)
{
    <div class="hero-section text-center text-light py-5" style="background: linear-gradient(135deg, #6c757d, #343a40);">
        <h1 class="display-4 fw-bold">Dobrodošli u Iznajmljivanje Automobila</h1>
        <p class="lead">Najbolje mjesto za pronalazak savršenog automobila za vaše putovanje.</p>
        <a class="btn btn-light btn-lg mt-3 shadow" href="/automobili" style="border-radius: 25px;">
            Pregledaj ponudu automobila
        </a>
    </div>
}
